set $mod Mod1
floating_modifier $mod

set $left h
set $down j
set $up k
set $right l

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

set $ws1 1
set $ws2 2
set $ws3 3
set $ws4 4
set $ws5 5
set $ws6 6
set $ws7 7
set $ws8 8
set $ws9 9

workspace $ws1 output DP-0 
workspace $ws2 output DP-0 
workspace $ws3 output DP-2  
workspace $ws4 output DP-2
workspace $ws5 output DP-0 
workspace $ws6 output DP-0 
workspace $ws7 output DP-2  
workspace $ws8 output DP-2
workspace $ws9 output DP-0 

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9

bindsym $mod+Shift+1 move container workspace $ws1, workspace $ws1
bindsym $mod+Shift+2 move container workspace $ws2, workspace $ws2
bindsym $mod+Shift+3 move container workspace $ws3, workspace $ws3
bindsym $mod+Shift+4 move container workspace $ws4, workspace $ws4
bindsym $mod+Shift+5 move container workspace $ws5, workspace $ws5
bindsym $mod+Shift+6 move container workspace $ws6, workspace $ws6
bindsym $mod+Shift+7 move container workspace $ws7, workspace $ws7
bindsym $mod+Shift+8 move container workspace $ws8, workspace $ws8
bindsym $mod+Shift+9 move container workspace $ws9, workspace $ws9

workspace_auto_back_and_forth no
smart_borders on
popup_during_fullscreen smart
focus_on_window_activation smart
focus_follows_mouse no
tiling_drag modifier

for_window [window_role="pop-up"] floating enable
for_window [window_role="task_dialog"] floating enable

font pango:Hack Nerd Font Mono 8

bindsym $mod+Shift+d exec --no-startup-id dmenu_run -i -b -p "Run" -fn "Hack Nerd Font Mono-10"
bindsym $mod+Shift+e exec --no-startup-id emacsclient -c -a 'emacs'

bindsym $mod+Shift+s mode "System"
mode "System" {
  bindsym e exit
  bindsym q kill
  bindsym x reload
  bindsym c restart

  bindsym f fullscreen toggle
  bindsym a floating toggle
  bindsym v split toggle
  bindsym b layout toggle splith tabbed
  
  bindsym l exec --no-startup-id loginctl lock-session, mode "default"
  bindsym r exec --no-startup-id systemctl reboot, mode "default"
  bindsym s exec --no-startup-id systemctl suspend, mode "default"
  bindsym p exec --no-startup-id systemctl poweroff, mode "default"
  bindsym h exec --no-startup-id systemctl hibernate, mode "default"

  bindsym Escape mode "default"
}

bindsym $mod+Shift+a mode "Audio"
mode "Audio" {
  bindsym $up exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5%
  bindsym $down exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5%
  bindsym Shift+$up exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +15%
  bindsym Shift+$down exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -15%
  bindsym m exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
  bindsym n exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle

  bindsym Escape mode "default"
}

bindsym $mod+Shift+r mode "Resize"
mode "Resize" {
  bindsym $right resize shrink right 10 px or 10 ppt
  bindsym $down resize shrink down 10 px or 10 ppt
  bindsym $up resize shrink up 10 px or 10 ppt
  bindsym $left resize shrink left 10 px or 10 ppt

  bindsym Shift+$right resize grow right 10 px or 10 ppt
  bindsym Shift+$down resize grow down 10 px or 10 ppt
  bindsym Shift+$up resize grow up 10 px or 10 ppt
  bindsym Shift+$left resize grow left 10 px or 10 ppt

  bindsym Escape mode "default"
}

bindsym $mod+Shift+Escape mode "Free"
mode "Free" {
  bindsym $mod+Shift+Escape mode "default"
}

bar {
  status_command i3status
  position bottom
  binding_mode_indicator yes
  tray_output primary

  bindsym button1 nop
  bindsym button2 nop
  bindsym button3 nop
  bindsym button4 nop
  bindsym button5 nop
  bindsym button6 nop
  bindsym button7 nop
  bindsym button8 nop
  bindsym button9 nop
}
