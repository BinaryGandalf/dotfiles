#!/usr/bin/bash

if ! inxi -Gxx | grep compositor && comp=$(command -v picom) && ! ps -e | grep picom; then
	exec $comp >/dev/null 2>&1 &
fi

if ibus=$(command -v ibus-daemon); then
	exec $ibus -drxR >/dev/null 2>&1 &
fi

if numlock=$(command -v numlockx); then
	exec $numlock on >/dev/null 2>&1 &
fi

if [ $TERMCLT -eq 1 ] && i3wm=$(command -v i3); then
	if tempreader=$(command -v cpu_temp_probe) && ! ps -e | grep cpu_temp_probe; then
		exec $tempreader >/dev/null 2>&1 &
	fi

	exec $i3wm >/dev/null 2>&1

elif [ $TERMCLT -eq 2 ] && plasmawm=$(command -v startplasma-x11); then
	exec $plasmawm >/dev/null 2>&1
fi
